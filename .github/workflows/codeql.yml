name: Code Analysis roBrowserLegacy  
# codeql.yml

concurrency:
  group: ${{ github.repository }}-${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: ${{ github.ref != 'refs/heads/master' }}

on:  
  workflow_dispatch:  
  push:  
    branches: [ "master" ]  
  pull_request:  
    branches: [ "master" ]  
    paths:  
      - '.github/workflows/**'  
      - 'src/**'  
      - 'applications/tools/**'  
  
jobs:  
  analyze:  
    name: JavaScript Analysis  
    runs-on: ubuntu-latest  
    permissions:  
      security-events: write  
      contents: read  
  
    steps:  
    - name: Checkout repository  
      uses: actions/checkout@v4  
  
    - name: Setup Node.js  
      uses: actions/setup-node@v4  
      with:  
        node-version: '20'  
        cache: 'npm'  
  
    - name: Install dependencies  
      run: npm install  
  
    - name: Initialize CodeQL  
      uses: github/codeql-action/init@v3  
      with:  
        languages: javascript  
  
    - name: Autobuild  
      uses: github/codeql-action/autobuild@v3  
  
    - name: Perform CodeQL Analysis  
      uses: github/codeql-action/analyze@v3